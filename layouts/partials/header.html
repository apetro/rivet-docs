{{ $currentURL := .URL }}
{{ if or (eq $currentURL "/how-to-use/") }}
  <header class="rvt-header rvt-header--light rvt-header--no-border" role="banner">
{{ else }}
  <header class="rvt-header rvt-header--light" role="banner">
{{ end }}
<a class="rvt-skip-link" href="#main-content">Skip to content</a>
<div class="rvt-header__trident">
  {{ partial "trident.html" . }}
</div>
<span class="rvt-header__title">
  <a href="{{ .Site.BaseURL }}"><strong>{{ .Site.Title }}</strong> <span class="rvtd-subtitle">{{ .Site.Params.tagline }}</span></a>
</span>
<div class="rvt-header__controls">
  <nav class="rvt-header__main-nav" role="navigation" aria-label="main">
    <ul>
      {{ $currentNav := . }}
      <li>
        <div class="rvt-dropdown">
          <button type="button" class="rvt-dropdown__toggle" data-dropdown-toggle="documentation-dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <span class="rvt-dropdown__toggle-text">Documentation</span>
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <path fill="currentColor" d="M8,12.46a2,2,0,0,1-1.52-.7L1.24,5.65a1,1,0,1,1,1.52-1.3L8,10.46l5.24-6.11a1,1,0,0,1,1.52,1.3L9.52,11.76A2,2,0,0,1,8,12.46Z"/>
            </svg>
          </button>
          <div class="rvt-dropdown__menu" id="documentation-dropdown" role="menu" aria-hidden="true">
            <a href="{{ trim .Site.BaseURL "/" }}/components" {{ if eq $currentNav.URL "/components/" }}aria-current="page"{{ end }}>Components</a>
            <a href="{{ trim .Site.BaseURL "/" }}/add-ons" {{ if eq $currentNav.URL "/add-ons/" }}aria-current="page"{{ end }}>Add-ons</a>
            <a href="{{ trim .Site.BaseURL "/" }}/content-guide" {{ if eq $currentNav.URL "/content-guide/" }}aria-current="page"{{ end }}>Content guide</a>
          </div>
        </div>
      </li>
      <li>
        <div class="dropdown">
          <button type="button" class="dropdown__toggle" data-dropdown-toggle="learn-dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            <span class="rvt-dropdown__toggle-text">About Rivet</span>
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <path fill="currentColor" d="M8,12.46a2,2,0,0,1-1.52-.7L1.24,5.65a1,1,0,1,1,1.52-1.3L8,10.46l5.24-6.11a1,1,0,0,1,1.52,1.3L9.52,11.76A2,2,0,0,1,8,12.46Z"/>
            </svg>
          </button>
          <div class="rvt-dropdown__menu" id="learn-dropdown" role="menu" aria-hidden="true">
            <a href="{{ trim .Site.BaseURL "/" }}/about/" {{ if eq $currentNav.URL "/about/" }}aria-current="page"{{ end }}>What is Rivet?</a>
            <a href="{{ trim .Site.BaseURL "/" }}/blog/" {{ if eq $currentNav.URL "/blog/" }}aria-current="page"{{ end }}>Blog</a>
            <a href="{{ trim .Site.BaseURL "/" }}/components/information/roadmap/" {{ if eq $currentNav.URL "/components/information/roadmap/" }}aria-current="page"{{ end }}>Roadmap</a>
            <a href="{{ trim .Site.BaseURL "/" }}/components/information/changelog/" {{ if eq $currentNav.URL "/components/information/changelog/" }}aria-current="page"{{ end }}>Changelog</a>
          </div>
        </div>
      </li>
      <li><a href="/workshop">Community Workshop</a></li>
    </ul>
  </nav>
  <div class="rvt-supplemental-menu">
    <div class="rvt-dropdown rvt-notifications">
      <button role="button" class="rvt-notifications__toggle" ref="notificationButton" data-dropdown-toggle="notification-list" aria-expanded="false">
        <span class="rvt-sr-only">Show notifications</span>
        <span aria-hidden="true">
          <svg class="rvt-open-icon" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <path fill="currentColor" d="M9.41,8l5.29-5.29a1,1,0,0,0-1.41-1.41L8,6.59,2.71,1.29A1,1,0,0,0,1.29,2.71L6.59,8,1.29,13.29a1,1,0,1,0,1.41,1.41L8,9.41l5.29,5.29a1,1,0,0,0,1.41-1.41Z"/>
          </svg>
          <svg class="rvt-closed-icon" aria-hidden="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <path fill="currentColor" d="M14.57,12.06,13,9.7V6A5,5,0,0,0,3,6V9.7L1.43,12.06a1.25,1.25,0,0,0,1,1.94H6a2,2,0,0,0,4,0h3.53a1.25,1.25,0,0,0,1-1.94ZM8,12H3.87L5,10.3V6a3,3,0,0,1,6,0v4.3L12.13,12Z"/>
          </svg>
        </span>
      </button>
      <div id="notification-list" class="rvt-notifications__menu" ref="menuElement" aria-hidden="true">
        <ol class="rvt-notifications__menu-list">
          {{ range first 3 (where .Pages "Section" "blog") }}
            <li>
              {{ if (isset .Params "external_url") }}
                <a href="{{.Params.external_url}}">
              {{ else }}
                <a href="{{.URL}}">
              {{ end }}
                <article class="rvt-notification">
                  <time class="rvt-notification__time">
                    {{ dateFormat "January 2, 2006" .Params.date }}
                  </time>
                  <h1 class="rvt-notification__title">{{ .Params.title }}</h1>
                  <p class="rvt-notification__teaser">{{ .Params.description }}</p>
                  {{ if eq .Params.notificationOnly true }}
                    <div class="rvt-notification__icon">
                      <span class="rvt-sr-only">External Link</span>
                      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
                        <g fill="currentColor">
                          <path d="M10.75,15H2.25A1.25,1.25,0,0,1,1,13.75V5.25A1.25,1.25,0,0,1,2.25,4H6A1,1,0,0,1,6,6H3v7h7V10a1,1,0,0,1,2,0v3.75A1.25,1.25,0,0,1,10.75,15Z"/>
                          <path d="M14.71,1.29A1,1,0,0,0,13.87,1l-.12,0H9A1,1,0,0,0,9,3h2.59L7.29,7.29A1,1,0,1,0,8.71,8.71L13,4.41V7a1,1,0,0,0,2,0V2.25a1.17,1.17,0,0,0,0-.12A1,1,0,0,0,14.71,1.29Z"/>
                        </g>
                      </svg>
                    </div>
                  {{ end }}
                </article>
              </a>
            </li>
          {{ end }}
        </ol>
        <div class="rvt-notifications__actions">
          <a class="rvt-button rvt-button--secondary rvt-display-flex rvt-text-center rvt-m-bottom-xs" href="{{ trim .Site.BaseURL "/" }}/blog/">More notifications</a>
          <a class="rvt-button rvt-notifications__actions-mail" href="https://list.iu.edu/sympa/subscribe/rivet-l">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
              <path fill="currentColor" d="M13.5,3H2.5A1.5,1.5,0,0,0,1,4.5v8A1.5,1.5,0,0,0,2.5,14h11A1.5,1.5,0,0,0,15,12.5v-8A1.5,1.5,0,0,0,13.5,3ZM11.41,5,8,7.77,4.59,5ZM3,12V6.29L7.11,9.62l.12.08a1.5,1.5,0,0,0,1.54,0L13,6.29V12Z"/>
            </svg>
            <span>Get updates in your inbox</span>
          </a>
        </div>
      </div>
    </div>
    <div class="rvt-hide-lg-down">
      <div class="rvt-dropdown">
        <button type="button" class="rvt-button" data-dropdown-toggle="use-dropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <span>Use Rivet</span>
          <svg aria-hidden="true" class="rvt-m-left-xs" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8,12.46a2,2,0,0,1-1.52-.7L1.24,5.65a1,1,0,1,1,1.52-1.3L8,10.46l5.24-6.11a1,1,0,0,1,1.52,1.3L9.52,11.76A2,2,0,0,1,8,12.46Z"/>
          </svg>
        </button>
        <div class="rvt-dropdown__menu rvt-dropdown__menu--right" id="use-dropdown" aria-hidden="true" role="menu">
          <a href="{{ trim .Site.BaseURL " / " }}/components/#npm-dependency">Install via NPM</a>
          <a href="{{ trim .Site.BaseURL " / " }}/components/#download-rivet">Download CSS &amp; JS</a>
          <a href="{{ trim .Site.BaseURL " / " }}/components/#hosted-css-and-javascript">Hosted assets</a>
        </div>
      </div>
    </div>
  </div>
  {{ partial "drawer-button.html" . }}
</div>
{{ partial "drawer.html" . }}
</header>
